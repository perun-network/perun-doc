

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Concepts &mdash; perun-doc master documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Perun-node" href="../node/introduction.html" />
    <link rel="prev" title="Introduction" href="../introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


          
            <a href="../index.html" class="icon icon-home"> perun-doc
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<!-- TODO : Include project logo, github repo link, community chat link -->

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nd-layer-scaling">2nd Layer Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#state-channels">State Channels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#phase-1-open">Phase 1: Open</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phase-2-transact">Phase 2: Transact</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phase-3-register">Phase 3: Register</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phase-4-execute">Phase 4: Execute</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../node/introduction.html">Perun-node</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">perun-doc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/hyperledger-labs/perun-doc/blob/master/source/concepts/state-channel.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="concepts">
<h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="nd-layer-scaling">
<h2>2nd Layer Scaling<a class="headerlink" href="#nd-layer-scaling" title="Permalink to this headline">¶</a></h2>
<p>A DLT (Distributed Ledger Technology, e.g. Blockchain) cannot simultaneously
provide secure and trustworthy consensus – often achieved via complex and slow
operations like Proof of Work (PoW) or Proof of Stake (PoS) algorithms – and
high transaction volume and throughput.</p>
<p>Here 2nd layer protocols come to the rescue: by reducing the number of
transactions with the underlying DLT and letting most transactions happen
“off-chain”, i.e. directly between peers via so-called state channels,
transactions can be scaled both in volume and rate on the second layer while
the first layer (DLT) serves as a notary or escrow service providing the
necessary security guarantees:</p>
<img alt="Image not available" class="align-center" src="../_images/state_Channels_Overview.svg" /></div>
<div class="section" id="state-channels">
<h2>State Channels<a class="headerlink" href="#state-channels" title="Permalink to this headline">¶</a></h2>
<p>State channels are a scalability technology in which the transactions (i.e
exchange of states) between the users takes place directly outside of the
blockchain or we can say off-chain.</p>
<p>State channels provide an ad-hoc solution for time-constrained problems. As the
cost of these transactions via state channels can be near-nil and transaction
speed is only limited by the underlying peer-to-peer communications technology,
they provide a suitable basis for performing micro-transactions repeatedly over
a period of time. Scaling transactions for permanent or long-running problems
could be better achieved via other technologies like sidechains.</p>
<p>A state channel protocol can be compared to a pre-paid account, where some
assets are blocked in the beginning, then the transactions over these assets
are performed and finally the resulting state is published and executed.</p>
<p>Therefore, the lifecycle of a state channel consists of four phases:</p>
<ol class="arabic simple">
<li><p>Open: Publish initial state (block assets)</p></li>
<li><p>Transact: Exchange states directly</p></li>
<li><p>Register: Publish final state</p></li>
<li><p>Close: Execute final state</p></li>
</ol>
<p>These four phases are now described in more detail.</p>
<div class="section" id="phase-1-open">
<h3>Phase 1: Open<a class="headerlink" href="#phase-1-open" title="Permalink to this headline">¶</a></h3>
<p>Locking amount x (e.g. money or assets) from all involved parties, by using a
smart contract on the DLT.  This will be the initial state for the further
off-chain transactions.</p>
<img alt="Image not available" class="align-center" src="../_images/sc_Workflow_1.svg" /></div>
<div class="section" id="phase-2-transact">
<h3>Phase 2: Transact<a class="headerlink" href="#phase-2-transact" title="Permalink to this headline">¶</a></h3>
<p>In this phase, the parties will transact by exchanging states directly between
them.  These transactions will modify the initial state and distribute the
blocked assets among the participants.  The agreement to a new state must be
approved by all involved parties and is performed by signing the new state and
sending it to the other participants.  The order of the states is maintained by
using a version counter.</p>
<img alt="Image not available" class="align-center" src="../_images/sc_Workflow_2.svg" /></div>
<div class="section" id="phase-3-register">
<h3>Phase 3: Register<a class="headerlink" href="#phase-3-register" title="Permalink to this headline">¶</a></h3>
<p>After transactions are done and a final state is achieved, any of the parties
can submit the final state to the smart contract.  The published state is
validated by the smart contract by checking if the signatures are corresponding
to the included state.  Publishing a state triggers a defined challenge period.
During this time, the other participant of the channel can check if the
published state corresponds to its final state.</p>
<p>If other participants find the registered state to be same as the final state,
then no action is required from them. The state will be be finalized on-chain
after the challenge duration expired.</p>
<p>On the other hand, if any of the other participants find that the state is not
the latest state, then then can refute by submitting the latest state. If the
version of the submitted state is higher than the version of the state
registered previously, then this notify other participants about this update
and restart the challenge duration.</p>
<img alt="Image not available" class="align-center" src="../_images/sc_Workflow_3_1.svg" /></div>
<div class="section" id="phase-4-execute">
<h3>Phase 4: Execute<a class="headerlink" href="#phase-4-execute" title="Permalink to this headline">¶</a></h3>
<p>Once the challenge period expires, the final available state will be executed.
Each participant can then withdraw the amount corresponding to them in the
channel.</p>
<img alt="Image not available" class="align-center" src="../_images/sc_Workflow_4.svg" /></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        
        <a href="../node/introduction.html" class="btn btn-neutral float-right" title="Perun-node" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
        
        
        <a href="../introduction.html" class="btn btn-neutral" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
        
    </div>
    

    <hr/>

    <div role="contentinfo">
        <p>
        Copyright &copy; 2020 Hyperledger 
        <br>
        This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>&nbsp;&nbsp;<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="(CC-BY-4.0)" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
        
        <span class="build">
            Build
            <a href="https://circleci.com/gh/hyperledger-labs/perun-doc/103">103</a>.
        </span>
        

        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>